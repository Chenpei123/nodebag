{"version":3,"sources":["../../src/step/step.js"],"names":["step1","step2","app","directive","$http","restrict","replace","transclude","scope","stepCanBack","stepStyle","stepName","currentStep","currentFn","template","ele","attr","link","$scope","element","controller","Number","length","curr","index","angular","isFunction"],"mappings":";;;AAAA,IAAIA,siBAAJ;AAYA,IAAIC,8MAAJ;;kBAOe,eAAO;AAClBC,QAAIC,SAAJ,CAAc,QAAd,EAAwB,CAAC,OAAD,EAAU,UAAUC,KAAV,EAAiB;AAC/C,eAAO;AACHC,sBAAU,GADP;AAEHC,qBAAS,IAFN;AAGHC,wBAAY,IAHT;AAIHC,mBAAO;AACHC,6BAAa,GADV;AAEHC,2BAAW,GAFR;AAGHC,0BAAU,GAHP;AAIHC,6BAAa,GAJV;AAKHC,2BAAW;AALR,aAJJ;AAWHC,sBAAU,kBAAUC,GAAV,EAAeC,IAAf,EAAqB;AAC3B,uBAAOA,KAAKN,SAAL,IAAkB,MAAlB,GAA2BT,KAA3B,GAAmCD,KAA1C;AACH,aAbE;AAcHiB,kBAAM,cAAUC,MAAV,EAAkBC,OAAlB,EAA2BH,IAA3B,EAAiC,CAEtC,CAhBE;AAiBHI,wBAAY,CAAC,QAAD,EAAW,UAAUF,MAAV,EAAkB;AACrCA,uBAAOP,QAAP,GAAkBO,OAAOP,QAAP,IAAmB,EAArC;AACAO,uBAAON,WAAP,GAAqBS,OAAOH,OAAON,WAAd,KAA8B,CAAnD;AACA;AACA,oBAAIM,OAAON,WAAP,GAAqB,CAAzB,EAA4B;AACxBM,2BAAON,WAAP,GAAqB,CAArB;AACH,iBAFD,MAEO,IAAIM,OAAON,WAAP,IAAsBM,OAAOP,QAAP,CAAgBW,MAA1C,EAAkD;AACrDJ,2BAAON,WAAP,GAAqBM,OAAOP,QAAP,CAAgBW,MAArC;AACH;;AAEDJ,uBAAOK,IAAP,GAAc,UAAUC,KAAV,EAAiB;AAC3B,wBAAI,CAACN,OAAOT,WAAR,IAAuBe,QAAQN,OAAON,WAA1C,EAAuD;AACnD;AACH;AACD,wBAAIY,QAAQ,CAAZ,EAAe;AACXA,gCAAQ,CAAR;AACH;AACDN,2BAAON,WAAP,GAAqBY,KAArB;AACA,wBAAIC,QAAQC,UAAR,CAAmBR,OAAOL,SAA1B,CAAJ,EAA0C;AACtCK,+BAAOL,SAAP,CAAiBW,KAAjB;AACH;AACJ,iBAXD;AAYH,aAtBW;AAjBT,SAAP;AAyCH,KA1CuB,CAAxB;AA2CH,C","file":"step.js","sourcesContent":["let step1 = `\r\n<div class=\"stepS1\">\r\n\t<ul class=\"clearfix\">\r\n\t\t<li ng-repeat=\"name in stepName\" ng-click=\"curr($index)\">\r\n\t\t\t<div class=\"cir\" ng-class=\"{act0: $index == currentStep, act1: $index < currentStep}\">\r\n\t\t\t\t<span ng-hide=\"$index < currentStep\" ng-bind=\"$index+1\"></span>\r\n\t\t\t\t<div class=\"text\" ng-class=\"{act3: $index <= currentStep}\" ng-bind=\"name\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"lineDef\" ng-if=\"!$last\"><div ng-style=\"{width: $index<currentStep ? '100%' : '0'}\"></div></div>\t\t\t\r\n\t\t</li>\t\r\n\t</ul>\r\n</div>\t\t`;\r\nlet step2 = `\r\n<div class=\"stepS2\">\r\n\t<ul class=\"clearfix\">\r\n\t\t<li ng-class=\"{act:$index <= currentStep}\" ng-repeat=\"name in stepName\" ng-bind=\"name\" ng-click=\"curr($index)\"></li>\t\t\t\r\n\t</ul>\r\n</div>\t\t`;\r\n\r\nexport default app => {\r\n    app.directive('snStep', ['$http', function ($http) {\r\n        return {\r\n            restrict: 'E',\r\n            replace: true,\r\n            transclude: true,\r\n            scope: {\r\n                stepCanBack: '@',\r\n                stepStyle: '@',\r\n                stepName: '=',\r\n                currentStep: '=',\r\n                currentFn: '='\r\n            },\r\n            template: function (ele, attr) {\r\n                return attr.stepStyle == 'mini' ? step2 : step1;\r\n            },\r\n            link: function ($scope, element, attr) {\r\n\r\n            },\r\n            controller: ['$scope', function ($scope) {\r\n                $scope.stepName = $scope.stepName || [];\r\n                $scope.currentStep = Number($scope.currentStep) || 0;\r\n                // $scope.s1 = $scope.stepStyle != 'mini';\r\n                if ($scope.currentStep < 0) {\r\n                    $scope.currentStep = 0;\r\n                } else if ($scope.currentStep >= $scope.stepName.length) {\r\n                    $scope.currentStep = $scope.stepName.length;\r\n                }\r\n\r\n                $scope.curr = function (index) {\r\n                    if (!$scope.stepCanBack || index > $scope.currentStep) {\r\n                        return;\r\n                    }\r\n                    if (index < 0) {\r\n                        index = 0;\r\n                    }\r\n                    $scope.currentStep = index;\r\n                    if (angular.isFunction($scope.currentFn)) {\r\n                        $scope.currentFn(index);\r\n                    }\r\n                }\r\n            }]\r\n        }\r\n    }]);\r\n}"]}