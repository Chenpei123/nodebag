{"version":3,"sources":["../src/tip.js"],"names":["module","exports","app","option","directive","restrict","scope","link","$scope","element","attrs","tpl","appendChild","document","createRange","createContextualFragment","tip","querySelector","addEventListener","e","stopImmediatePropagation","show","els","querySelectorAll","Array","prototype","forEach","call","classList","add","el","style","top","clientY","last","right","left","clientX","textContent","childNodes","toggle","window"],"mappings":";;AAAA;;AAEAA,OAAOC,OAAP,GAAiB,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AACpCD,QAAIE,SAAJ,CAAc,OAAd,EAAuB,CAAC,YAAY;AAChC,eAAO;AACHC,sBAAU,GADP;AAEHC,mBAAO,KAFJ;AAGHC,kBAAM,SAASA,IAAT,CAAcC,MAAd,EAAsBC,OAAtB,EAA+BC,KAA/B,EAAsC;AACxC,oBAAIC,8CAAJ;AACAF,wBAAQ,CAAR,EAAWG,WAAX,CAAuBC,SAASC,WAAT,GAAuBC,wBAAvB,CAAgDJ,GAAhD,CAAvB;AACA,oBAAIK,MAAMP,QAAQ,CAAR,EAAWQ,aAAX,CAAyB,iBAAzB,CAAV;AACAD,oBAAIE,gBAAJ,CAAqB,WAArB,EAAkC,aAAK;AACnCC,sBAAEC,wBAAF;AACH,iBAFD;;AAIA,oBAAIC,OAAO,IAAX;AACAZ,wBAAQ,CAAR,EAAWS,gBAAX,CAA4B,WAA5B,EAAyC,aAAK;AAC1CC,sBAAEC,wBAAF;AACA,wBAAIE,MAAMT,SAASU,gBAAT,CAA0B,iBAA1B,CAAV;AACAC,0BAAMC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BL,GAA7B,EAAkC,aAAK;AACnCH,0BAAES,SAAF,CAAYC,GAAZ,CAAgB,QAAhB;AACH,qBAFD;AAGA,wBAAIR,IAAJ,EAAU;AACN,4BAAIS,KAAKrB,QAAQ,CAAR,EAAWQ,aAAX,CAAyB,iBAAzB,CAAT;AACAa,2BAAGC,KAAH,CAASC,GAAT,GAAeb,EAAEc,OAAF,GAAY,IAA3B;AACA,4BAAGvB,MAAMwB,IAAT,EAAc;AACRJ,+BAAGC,KAAH,CAASI,KAAT,GAAiB,MAAM,IAAvB;AACL,yBAFD,MAEK;AACDL,+BAAGC,KAAH,CAASK,IAAT,GAAgBjB,EAAEkB,OAAF,GAAY,IAA5B;AACH;AACDP,2BAAGQ,WAAH,GAAiB7B,QAAQ,CAAR,EAAW8B,UAAX,CAAsB,CAAtB,EAAyBD,WAA1C;AACAR,2BAAGF,SAAH,CAAaY,MAAb,CAAoB,QAApB;AACAnB,+BAAO,CAACA,IAAR;AACH,qBAXD,MAWO;AACHA,+BAAO,CAACA,IAAR;AACH;AACJ,iBApBD,EAoBG,KApBH;AAqBAoB,uBAAOvB,gBAAP,CAAwB,WAAxB,EAAqC,aAAK;AACtC,wBAAIY,KAAKjB,SAASU,gBAAT,CAA0B,iBAA1B,CAAT;AACAC,0BAAMC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BG,EAA7B,EAAiC,aAAK;AAClCX,0BAAES,SAAF,CAAYC,GAAZ,CAAgB,QAAhB;AACH,qBAFD;AAGAR,2BAAO,IAAP;AACH,iBAND,EAMG,KANH;AAOAoB,uBAAOvB,gBAAP,CAAwB,QAAxB,EAAkC,aAAK;AACnC,wBAAIY,KAAKjB,SAASU,gBAAT,CAA0B,iBAA1B,CAAT;AACAC,0BAAMC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6BG,EAA7B,EAAiC,aAAK;AAClCX,0BAAES,SAAF,CAAYC,GAAZ,CAAgB,QAAhB;AACH,qBAFD;AAGAR,2BAAO,IAAP;AACH,iBAND,EAMG,KANH;AAOH;AA/CE,SAAP;AAiDH,KAlDsB,CAAvB;AAmDH,CApDD","file":"tip.js","sourcesContent":["import './tip.css';\r\n\r\nmodule.exports = function (app, option) {\r\n    app.directive('cdTip', [function () {\r\n        return {\r\n            restrict: 'A',\r\n            scope: false,\r\n            link: function link($scope, element, attrs) {\r\n                let tpl = `<div class=\"sncd-ng-tip hidden\"></div>`\r\n                element[0].appendChild(document.createRange().createContextualFragment(tpl))\r\n                let tip = element[0].querySelector('div.sncd-ng-tip');\r\n                tip.addEventListener('mouseover', e => {\r\n                    e.stopImmediatePropagation();\r\n                })\r\n\r\n                let show = true\r\n                element[0].addEventListener('mouseover', e => {\r\n                    e.stopImmediatePropagation()\r\n                    let els = document.querySelectorAll('div.sncd-ng-tip')\r\n                    Array.prototype.forEach.call(els, e => {\r\n                        e.classList.add('hidden')\r\n                    })\r\n                    if (show) {\r\n                        var el = element[0].querySelector('div.sncd-ng-tip');\r\n                        el.style.top = e.clientY + 'px';\r\n                        if(attrs.last){\r\n                              el.style.right = 100 + 'px';\r\n                        }else{\r\n                            el.style.left = e.clientX + 'px';\r\n                        }\r\n                        el.textContent = element[0].childNodes[0].textContent;\r\n                        el.classList.toggle('hidden');\r\n                        show = !show;\r\n                    } else {\r\n                        show = !show\r\n                    }\r\n                }, false)\r\n                window.addEventListener('mouseover', e => {\r\n                    let el = document.querySelectorAll('div.sncd-ng-tip')\r\n                    Array.prototype.forEach.call(el, e => {\r\n                        e.classList.add('hidden')\r\n                    })\r\n                    show = true\r\n                }, false)\r\n                window.addEventListener('scroll', e => {\r\n                    let el = document.querySelectorAll('div.sncd-ng-tip')\r\n                    Array.prototype.forEach.call(el, e => {\r\n                        e.classList.add('hidden')\r\n                    })\r\n                    show = true\r\n                }, false)\r\n            }\r\n        };\r\n    }]);\r\n}"]}