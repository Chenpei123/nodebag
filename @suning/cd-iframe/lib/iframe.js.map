{"version":3,"sources":["../src/iframe.js"],"names":["module","exports","app","option","directive","$sce","$rootScope","restrict","template","scope","src","bindSrc","link","$scope","element","attrs","url","trustAsResourceUrl","$on","event","toState","toParams","fromState","fromParams","clearInterval","window","cd_iframe_interval","$watch"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AACpCD,QAAIE,SAAJ,CAAc,UAAd,EAA0B,CAAC,MAAD,EAAS,YAAT,EAAuB,UAACC,IAAD,EAAOC,UAAP,EAAsB;AACnE,eAAO;AACHC,sBAAU,GADP;AAEHC,sdAFG;AASHC,mBAAO;AACHC,qBAAK,GADF;AAEHC,yBAAS;AAFN,aATJ;AAaHC,kBAAM,SAASA,IAAT,CAAcC,MAAd,EAAsBC,OAAtB,EAA+BC,KAA/B,EAAsC;AACxCF,uBAAOG,GAAP,GAAaX,KAAKY,kBAAL,CAAwBJ,OAAOH,GAAP,IAAcG,OAAOF,OAA7C,CAAb;AACAL,2BAAWY,GAAX,CAAe,qBAAf,EACI,UAAUC,KAAV,EAAiBC,OAAjB,EAA0BC,QAA1B,EAAoCC,SAApC,EAA+CC,UAA/C,EAA2D;AACvDC,kCAAcC,OAAOC,kBAArB;AACH,iBAHL;AAIAb,uBAAOc,MAAP,CAAc,KAAd,EAAqB,YAAM;AACvB,wBAAId,OAAOH,GAAX,EACIG,OAAOG,GAAP,GAAaX,KAAKY,kBAAL,CAAwBJ,OAAOH,GAA/B,CAAb;AACP,iBAHD;AAIH;AAvBE,SAAP;AAyBH,KA1ByB,CAA1B;AA2BH,CA5BD","file":"iframe.js","sourcesContent":["module.exports = function (app, option) {\r\n    app.directive('cdIframe', ['$sce', '$rootScope', ($sce, $rootScope) => {\r\n        return {\r\n            restrict: 'E',\r\n            template: `<script>\r\n                function resizeIframe(obj) {\r\n                    window.cd_iframe_interval=setInterval(function(){\r\n                        obj.style.height = obj.contentWindow&&obj.contentWindow.document.body.clientHeight + \"px\";\r\n                    },100)\r\n                }\r\n            </script><iframe ng-show=\"url\" src=\"{{url}}\" width=\"100%\" scrolling=\"no\" style=\"border:0;min-height:100%;\" onload=\"resizeIframe(this)\"></iframe>`,\r\n            scope: {\r\n                src: '@',\r\n                bindSrc: '='\r\n            },\r\n            link: function link($scope, element, attrs) {\r\n                $scope.url = $sce.trustAsResourceUrl($scope.src || $scope.bindSrc);\r\n                $rootScope.$on('$stateChangeSuccess',\r\n                    function (event, toState, toParams, fromState, fromParams) {\r\n                        clearInterval(window.cd_iframe_interval)\r\n                    })\r\n                $scope.$watch('src', () => {\r\n                    if ($scope.src)\r\n                        $scope.url = $sce.trustAsResourceUrl($scope.src);\r\n                })\r\n            }\r\n        }\r\n    }])\r\n}"]}