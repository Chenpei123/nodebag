{"version":3,"sources":["../src/radio.js"],"names":["module","exports","app","option","directive","restrict","scope","name","datas","model","link","$scope","element","attrs","el","$watch","init","lastChild","removeChild","tpl","forEach","checked","e","value","tpl_frag","key","appendChild","document","createRange","createContextualFragment","inputs","querySelectorAll","Array","prototype","call","n","i","addEventListener","target","$apply","querySelector","undefined"],"mappings":"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","file":"radio.js","sourcesContent":["import './radio.css';\r\n\r\nmodule.exports = function (app, option) {\r\n    app.directive('cdRadio', [function () {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tscope: {\r\n\t\t\t\tname: '@',\r\n\t\t\t\tdatas: '=',\r\n\t\t\t\tmodel: '='\r\n\t\t\t},\r\n\t\t\tlink: function link($scope, element, attrs) {\r\n\t\t\t\tlet el = element[0]\r\n\t\t\t\t$scope.$watch('datas', () => {\r\n\t\t\t\t\tif ($scope.datas) {\r\n\t\t\t\t\t\tinit()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true)\r\n\r\n\t\t\t\tfunction init() {\r\n\t\t\t\t\twhile (el.lastChild) {\r\n\t\t\t\t\t\tel.removeChild(el.lastChild)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet tpl = ''\r\n\t\t\t\t\t$scope.datas.forEach(e => {\r\n\t\t\t\t\t\tlet checked = `${e.value===$scope.model?' checked':''}`\r\n\t\t\t\t\t\tlet tpl_frag = `<div class=\"ux-radio-inline\">\r\n                            <label>\r\n                                <input type=\"radio\" name=\"${$scope.name}\" value=\"${e.value}\"${checked}>\r\n                                <span class=\"ux-radio-inner\">${e.key}</span>\r\n                            </label>\r\n                        </div>`\r\n\t\t\t\t\t\ttpl += tpl_frag\r\n\t\t\t\t\t})\r\n\t\t\t\t\tel.appendChild(document.createRange().createContextualFragment(tpl))\r\n\t\t\t\t\tlet inputs = el.querySelectorAll('input')\r\n\t\t\t\t\tArray.prototype.forEach.call(inputs, (n, i) => {\r\n\t\t\t\t\t\tn.addEventListener('change', e => {\r\n\t\t\t\t\t\t\t$scope.model = e.target.value\r\n\t\t\t\t\t\t\t$scope.$apply()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}]);\r\n    app.directive('cdCheck', [function () {\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tscope: {\r\n\t\t\t\tdatas: '=',\r\n\t\t\t\tmodel: '='\r\n\t\t\t},\r\n\t\t\tlink: function link($scope, element, attrs) {\r\n\t\t\t\tlet el = element[0]\r\n\t\t\t\t$scope.$watch('datas', () => {\r\n\t\t\t\t\tif ($scope.datas) {\r\n\t\t\t\t\t\tinit()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true)\r\n\r\n\t\t\t\tfunction init() {\r\n\t\t\t\t\twhile (el.lastChild) {\r\n\t\t\t\t\t\tel.removeChild(el.lastChild)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet checked = `${$scope.datas.value===$scope.model?' checked':''}`\r\n\t\t\t\t\tlet tpl = `<div class=\"ux-checkbox-inline\">\r\n                            <label>\r\n                                <input type=\"checkbox\" value=\"${$scope.datas.value}\"${checked}>\r\n                                <span class=\"ux-checkbox-inner\">${$scope.datas.key}</span>\r\n                            </label>\r\n                        </div>`\r\n\t\t\t\t\tel.appendChild(document.createRange().createContextualFragment(tpl))\r\n\t\t\t\t\tel.querySelector('input').addEventListener('change', e => {\r\n\t\t\t\t\t\tif(e.target.checked){\r\n                                $scope.model = $scope.datas.value\r\n                            }else{\r\n                                $scope.model = undefined\r\n                            }\r\n\t\t\t\t\t\t$scope.$apply()\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}]);\r\n}"]}